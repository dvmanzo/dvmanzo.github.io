<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Untitled Document</title>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
<script src="fusioncharts.js" type="text/javascript"></script>
<script src="fusioncharts.charts.js" type="text/javascript"></script>
<script>
FusionCharts.ready(function () {
	
		var allLinesArray;
		var dataPoint=[];
		$.ajax({
			type: "GET",
			url: "cars-sample.csv",
			dataType: "text",
			success: function (data) {
				
				
				
				
				allLinesArray = data.split('\n');
				for (var i = 0; i <= allLinesArray.length - 1; i++) {
				var rowData = allLinesArray[i].split(',');
				if(rowData && rowData.length > 1)
				{
					if(i>0)
					dataPoint.push({x: parseFloat(rowData[7])/10,
									y: parseFloat(rowData[3]),
									z: parseFloat(rowData[7])/1000,
									color: rowData[2]});
				}
				}
	
	
	
    var conversionChart = new FusionCharts({
        type: 'bubble',
        renderAt: 'chart-container',
        width: '700',
        height: '500',
        dataFormat: 'json',
        dataSource: {
            "chart": {
                "caption": "Fusion Charts Implementation",
                "xAxisMinValue": "200",
                "xAxisMaxValue": "550",
                "yAxisMinValue": "0",
                "yAxisMaxValue": "40",
                "plotFillAlpha": "50",
                "showPlotBorder": "0",
                "xAxisName": "Weight x 10",
                "yAxisName": "MPG",
                "showValues":"0",
                "showTrendlineLabels": "0",
			 	"xAxisLabelMode": "AUTO",
                //Quadrant Labels
                  
                //Cosmetics
                "baseFontColor" : "#333333",
                "baseFont" : "Helvetica Neue,Arial",
                "captionFontSize" : "14",
                "subcaptionFontSize" : "14",
                "subcaptionFontBold" : "0",
                "showBorder" : "0",
                "bgColor" : "#ffffff",
                "showShadow" : "0",
                "canvasBgColor" : "#ffffff",
                "canvasBorderAlpha" : "0",
                "divlineAlpha" : "100",
                "divlineColor" : "#999999",
                "divlineThickness" : "1",
                "divLineIsDashed" : "1",
                "divLineDashLen" : "1",
                "divLineGapLen" : "1",
                "use3dlighting" : "0",
                "showplotborder" : "0",
                "showYAxisLine" : "1",
                "yAxisLineThickness" : "1",
                "yAxisLineColor" : "#999999",
                "showXAxisLine" : "1",
                "xAxisLineThickness" : "1",
                "xAxisLineColor" : "#999999",
                "showAlternateHGridColor" : "0",
                "showAlternateVGridColor" : "0"
                
            },
            "categories": [
                {
                    "category": [
                        {
                            "label": "200",
                            "x": "200"
                        }, 
                        {
                            "label": "300",
                            "x": "300"
                        }, 
                        {
                            "label": "400",
                            "x": "400"
                        }, 
                        {
                            "label": "500",
                            "x": "500"
                        }, 
                        {
                            "label": "",
                            "x": "550",
                            "showverticalline": "1"
                        } 
                    ]
                }
            ],
            "dataset": [
                {
                    "data": dataPoint
                }
            ]
        }
    });
    conversionChart.render();
		}
});
});
</script>
</head>

<body>
<div id="chart-container">FusionCharts will render here</div>
</body>
</html>
